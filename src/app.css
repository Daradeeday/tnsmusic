/* ===================================================================
   TNS Music – Apple-like UI (Dark, glass, minimal, responsive)
   NOTE: Pure CSS only. No logic changes.
=================================================================== */

/* ---------- Design Tokens ---------- */
:root{
  /* Surfaces */
  --bg: #0a0b0f;          /* ดำอมน้ำเงิน สะอาดตา */
  --bg-elev: #0d1016;
  --glass: rgba(255,255,255,.06);
  --glass-2: rgba(255,255,255,.03);
  --line: #1e2637;        /* เส้นคั่นบางๆ สไตล์ macOS */
  --shadow: 0 24px 100px rgba(0,0,0,.55);

  /* Text */
  --txt: #f5f8ff;
  --muted: #a8b4cc;

  /* Accent – Apple Blue */
  --accent: #0a84ff;
  --accent-2: #0066cc;

  /* Radii & Motion */
  --r-lg: 18px;
  --r-md: 12px;
  --r-sm: 10px;

  --ease: cubic-bezier(.22,1,.36,1);
  --ease-out: cubic-bezier(.16,1,.3,1);
  --dur-f: .12s;
  --dur: .22s;
  --dur-s: .38s;
}


/* ---------- Global ---------- */
*{ box-sizing: border-box }
html, body, #root{ height: 100% }
html{ font-size: clamp(14px, 0.95vw + 10px, 16px) }
body{
  margin:0; color: var(--txt); background:
    radial-gradient(1200px 800px at -10% -10%, rgba(70,120,255,.10), transparent 45%),
    radial-gradient(900px 700px at 110% -10%, rgba(100,60,220,.10), transparent 45%),
    var(--bg);
  font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont,
               "SF Pro Text","SF Pro Display","Segoe UI", Inter, Roboto,
               "Noto Sans Thai", "Noto Sans", sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
.container{ max-width: 1200px; margin: 0 auto; padding: 0 16px }

/* ---------- Header / Topbar (Glass) ---------- */
.site-header{
  position: sticky; top: 0; z-index: 40;
  backdrop-filter: saturate(180%) blur(16px);
  background: linear-gradient(180deg, rgba(10,12,18,.75), rgba(10,12,18,.55));
  border-bottom: 1px solid var(--line);
}
.header-inner{
  display:flex; align-items:center; gap:12px; flex-wrap:wrap;
  padding: 14px 0;
}
.site-title{ margin:0; font-weight: 800; letter-spacing: .2px; font-size: clamp(18px, 2.2vw, 22px) }

/* Segmented top nav (Apple-like) */
.topnav{
  display:flex; gap:6px; padding:4px;
  border-radius: 12px; border:1px solid var(--line);
  background: color-mix(in srgb, var(--bg-elev) 70%, transparent);
}
.topnav a{
  display:inline-flex; align-items:center; justify-content:center;
  min-width: 88px; padding: 8px 12px; border-radius:10px;
  color: var(--muted); text-decoration:none; font-weight: 600;
  transition: color var(--dur) var(--ease), background var(--dur) var(--ease);
}
.topnav a:hover{ color:#dce8ff; background: rgba(255,255,255,.06) }
.topnav a.active{ color: #fff; background: rgba(10,132,255,.16) }

.auth-bar{ display:flex; align-items:center; gap:10px; margin-left:auto; flex-wrap:wrap }
.header-ig{ color: var(--muted); font-size: 13px }



/* ---------- Cards ---------- */
.card{
  background: linear-gradient(180deg, var(--glass), var(--glass-2));
  border: 1px solid var(--line); border-radius: var(--r-lg);
  padding: 16px; box-shadow: var(--shadow);
  transition: transform var(--dur) var(--ease), box-shadow var(--dur) var(--ease);
}
@media (min-width: 920px){
  .card:hover{ transform: translateY(-1px) }
}
.card-title{ margin:0 0 10px; font-weight: 800; font-size: clamp(16px,1.8vw,20px) }

/* ---------- Layout / Grid ---------- */
.grid{
  display:grid; gap: 16px;
  grid-template-columns: repeat(auto-fit, minmax(min(380px,100%), 1fr));
}

/* ---------- Form ---------- */
.field{ display:flex; flex-direction:column; gap:6px }
.field label{ font-size: 12px; color: var(--muted) }
.field input, .field select{
  background: #0f1421; color: var(--txt);
  border:1px solid var(--line); border-radius: 12px; padding: 10px 12px;
  transition: border-color var(--dur) var(--ease), box-shadow var(--dur) var(--ease), background var(--dur) var(--ease);
}
.field input:focus, .field select:focus{
  outline:none; border-color: color-mix(in srgb, var(--accent) 70%, white 0%);
  box-shadow: 0 0 0 4px rgba(10,132,255,.18);
}
.form-grid{
  display:grid; gap:12px;
  grid-template-columns: repeat(auto-fit, minmax(220px,1fr));
}
.actions{ display:flex; flex-wrap:wrap; gap:10px }

/* ---------- Buttons (iOS/macOS style) ---------- */
.btn{
  display:inline-flex; align-items:center; justify-content:center; gap:8px;
  padding: 10px 14px; min-height: 40px;
  border-radius: 12px; border:1px solid var(--line);
  background: #0f1626; color: var(--txt); text-decoration:none; cursor:pointer;
  transition: transform var(--dur-f) var(--ease), box-shadow var(--dur) var(--ease), background var(--dur) var(--ease), color var(--dur) var(--ease);
}
.btn:hover{ transform: translateY(-1px) }
.btn:active{ transform: translateY(0) scale(.98) }
.btn:disabled{ opacity:.55; cursor:not-allowed; transform:none }
.btn.primary{
  border-color: transparent;
  background: linear-gradient(180deg, var(--accent), var(--accent-2));
}
.btn.link{
  background: transparent; border-color: transparent; color: #cfe3ff; padding:8px 8px;
}
.btn.ghost{ background:#0f1626 }

/* ---------- Badges ---------- */
.pill{
  display:inline-flex; align-items:center; padding:6px 10px;
  border-radius: 999px; background:#101a30; border:1px solid var(--line);
  font-size: 12px;
}
.muted{ color: var(--muted) }

/* ---------- Table (with mobile card layout) ---------- */
.table-wrap{ overflow:auto; border-radius: 12px; border: 1px solid var(--line) }
table{ width:100%; border-collapse: collapse; min-width: 520px }
thead th{
  text-align:left; padding: 12px; font-size: 12px; color: var(--muted); background:#0f1421;
  position: sticky; top:0; z-index:1;
}
tbody td{ padding:12px; border-top:1px solid var(--line) }
tbody tr:hover{ background:#0e1422 }

.cell-user{ display:flex; align-items:center; gap:10px }
.avatar-xs{ width:24px; height:24px; border-radius: 8px; object-fit:cover; border:1px solid var(--line); background:#0b1222 }
.cell-user-text .name{ font-weight:700; line-height:1.15 }
.cell-user-text .sub{ font-size:12px; color: var(--muted) }

/* Mobile: transform table into cards */
@media (max-width: 640px){
  table[role="table"]{ display:block; border:0; min-width: 0 }
  table[role="table"] thead{ display:none }
  table[role="table"] tbody{ display:block }
  table[role="table"] tr{
    display:grid; grid-template-columns:1fr; gap:8px;
    border-top:1px solid var(--line); padding:10px 12px;
  }
  table[role="table"] tr:first-child{ border-top:0 }
  table[role="table"] td{
    display:grid; gap:6px; grid-template-columns: 120px 1fr;
    padding:0; border:0;
  }
  table[role="table"] td::before{
    content: attr(data-label); color: var(--muted); font-size:12px;
  }
  table[role="table"] td[data-label="วง"]{ grid-template-columns: 1fr }
}

/* ---------- Leaderboard ---------- */
.leader-top3{
  list-style:none; padding:0; margin:8px 0 12px;
  display:grid; gap:10px; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
}
.leader-top3 li{
  display:flex; align-items:center; justify-content:space-between; gap:10px;
  padding:12px 14px; border:1px solid var(--line); background:#0e1422; border-radius:12px;
}
.leader-top3 .rank{ font-size:20px }
.leader-top3 .name{ font-weight:700 }
.leader-top3 .mins{ color: var(--muted) }

/* ---------- Toast ---------- */
.toast-wrap{ position: fixed; right:16px; bottom:16px; display:flex; flex-direction:column; gap:10px; z-index:1200 }
.toast{
  display:grid; grid-template-columns: 22px 1fr auto; gap:10px;
  min-width: 280px; max-width: 420px;
  background:#0f1421; border:1px solid var(--line); border-radius:12px; padding:10px 12px;
  transition: transform var(--dur) var(--ease), opacity var(--dur) var(--ease);
}
.toast.success{ border-color: rgba(80,200,120,.35) }
.toast.error{ border-color: rgba(240,110,110,.45) }
.toast .title{ font-weight:700 }
.toast .msg{ color: var(--muted); font-size:13px }
.toast .close{ border:none; background:transparent; color:var(--muted); cursor:pointer; font-size:16px }
.toast.leave{ opacity:0; transform: translateY(-8px) }

/* ---------- Modal (Countdown 19th) ---------- */
.modal-backdrop{
  position: fixed; inset:0; z-index:1100;
  background: rgba(8, 10, 16, .6); backdrop-filter: blur(12px);
  display:grid; place-items:center; padding:16px;
  animation: fade-in var(--dur-s) var(--ease-out);
}
.modal-card{
  width: min(560px, 100% - 32px);
  background: linear-gradient(180deg, var(--glass), var(--glass-2));
  border:1px solid var(--line); border-radius: var(--r-lg); box-shadow: var(--shadow);
  padding:16px; animation: pop-in var(--dur) var(--ease-out);
}
.modal-head{ display:flex; align-items:center; justify-content:space-between; gap:8px; margin-bottom:8px }
.modal-title{ margin:0; font-size:18px }
.modal-text{ margin: 8px 0 16px; color: var(--muted) }
.modal-actions{ display:flex; justify-content:flex-end; gap:10px }
.modal-close{
  border:1px solid var(--line); background:#0f1626; color:var(--txt);
  border-radius:10px; padding:6px 10px; cursor:pointer;
}
.modal-close:hover{ background:#121c31 }

/* ---------- Loading Overlay ---------- */
.is-loading{ cursor: progress }
.loading-backdrop{
  position: fixed; inset:0; z-index:1200;
  background: rgba(8, 10, 16, .6); backdrop-filter: blur(12px);
  display:grid; place-items:center; padding:16px;
  animation: fade-in var(--dur-s) var(--ease-out);
}
.loading-card{
  width: min(560px, 100% - 32px);
  display:grid; grid-template-columns: 64px 1fr; gap:14px;
  padding:16px; border-radius: var(--r-lg);
  background: linear-gradient(180deg, var(--glass), var(--glass-2));
  border:1px solid var(--line); box-shadow: var(--shadow);
  animation: pop-in var(--dur) var(--ease-out);
}
.loading-spinner{
  width:48px; height:48px; border-radius:999px;
  background: conic-gradient(from 0turn, rgba(10,132,255,.0), rgba(10,132,255,.7) 60%, rgba(10,132,255,.0) 100%);
  mask: radial-gradient(farthest-side, transparent calc(100% - 6px), #000 0);
  animation: spin 1.1s linear infinite;
}
.loading-texts{ display:flex; flex-direction:column; gap:6px }
.loading-title{ font-weight:800; font-size:16px }
.loading-sub{ color: var(--muted); font-size:13px }
.loading-hint{ margin-top:4px; font-size:12px; color:#a9b8d3; border-top:1px dashed var(--line); padding-top:8px }

/* ---------- Footer ---------- */
.site-footer{ margin: 20px 0 28px }

/* ---------- Motion & Prefs ---------- */
@keyframes spin{ to{ transform: rotate(360deg) } }
@keyframes fade-in{ from{ opacity:0 } to{ opacity:1 } }
@keyframes pop-in{ from{ opacity:0; transform: translateY(6px) scale(.98) } to{ opacity:1; transform: translateY(0) scale(1) } }
@media (prefers-reduced-motion: reduce){
  *{ animation: none !important; transition: none !important }
}

/* ---------- Extra Responsive Polish ---------- */
@media (max-width: 600px){
  .header-inner{ flex-direction: column; align-items: stretch }
  .topnav{ align-self: flex-start }
  .btn:hover{ transform:none }
  .card{ box-shadow: none }
}

/* ======= Header – Apple-like glass, premium ======= */
.site-header{
  position: sticky; top: 0; z-index: 40;
  backdrop-filter: saturate(180%) blur(16px);
  background: linear-gradient(180deg, rgba(10,12,18,.78), rgba(10,12,18,.55));
  border-bottom: 1px solid var(--line);
}
.header-inner{
  display: flex; align-items: center; gap: 12px; flex-wrap: wrap;
  padding: 14px 0;
}
.header-spacer{ flex: 1 1 auto }

/* Brand lockup */
.brand{ display:flex; align-items:center; gap:10px; text-decoration:none; color: inherit }
.brand-mark{
  width: 34px; height: 34px; border-radius: 12px;
  background:
    radial-gradient(120% 120% at 20% 20%, rgba(255,255,255,.18), rgba(255,255,255,0) 60%),
    conic-gradient(from 210deg, #4aa7ff, #6f7bff, #7e53ff, #4aa7ff);
  border: 1px solid #223055;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.06), 0 8px 28px rgba(0,0,0,.35);
}
.brand-text{ display:flex; flex-direction:column; line-height:1.05 }
.brand-name{ font-weight: 800; letter-spacing: .2px; font-size: clamp(16px, 1.8vw, 20px) }
.brand-sub{ color: var(--muted); font-size: 12px }

/* Hairline gradient under header */
.header-border{
  height: 2px; width: 100%;
  background: linear-gradient(90deg, transparent, rgba(74,167,255,.8) 18%, rgba(180,200,255,.7) 50%, rgba(74,167,255,.8) 82%, transparent);
  opacity: .65;
}

/* Auth/Actions cluster */
.header-actions{ display:flex; align-items:center; gap:10px; }
.auth-bar{ display:flex; align-items:center; gap:10px; flex-wrap:wrap }
.ig-link{ color: var(--muted); font-size: 13px; text-decoration: none }
.ig-link:hover{ color:#dce8ff }

/* User pill with tiny avatar */
.user-pill{ display:inline-flex; align-items:center; gap:8px; padding-right:10px }
.avatar-xxs{
  width:18px; height:18px; border-radius: 6px; object-fit: cover;
  border: 1px solid var(--line); background:#0b1222;
}

/* Subtle button variant for Account */
.btn.subtle{
  background: rgba(255,255,255,.04);
  border: 1px solid var(--line);
}
.btn.subtle:hover{ background: rgba(255,255,255,.07) }

/* Responsive header stacking */
@media (max-width: 720px){
  .header-inner{ flex-direction: column; align-items: stretch; gap: 10px }
  .brand
  .header-actions{ flex-direction: column; align-items: stretch; gap: 10px }
  .auth-bar{ flex-direction: column; align-items: stretch; gap: 10px }
}


/* ===== Stats (Leaderboard) – pill list like sample ===== */

.stat-card{
  position: relative;
  overflow: hidden;
}
.stat-card::before{
  /* grid background บาง ๆ */
  content: "";
  position: absolute; inset: 0;
  background:
    repeating-linear-gradient(
      to right,
      rgba(255,255,255,.04) 0, rgba(255,255,255,.04) 1px, transparent 1px, transparent 40px
    ),
    repeating-linear-gradient(
      to bottom,
      rgba(255,255,255,.04) 0, rgba(255,255,255,.04) 1px, transparent 1px, transparent 40px
    );
  opacity: .18; pointer-events: none;
}

.stat-list{
  list-style: none; margin: 10px 0 0; padding: 0;
  display: flex; flex-direction: column; gap: 12px;
}

.stat-item{
  display: flex; align-items: center; justify-content: space-between;
  gap: 12px;
  padding: 12px 16px;
  border-radius: 999px;
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  border: 1px solid var(--line);
  box-shadow: 0 10px 30px rgba(0,0,0,.35);
  transition: transform var(--dur) var(--ease), box-shadow var(--dur) var(--ease), background var(--dur) var(--ease);
}
.stat-item:hover{ transform: translateY(-2px) }

.stat-item.highlight{
  /* แถวบนสุด: น้ำเงินไล่เฉด + เรืองแสง */
  background: linear-gradient(180deg, #1f67ff, #144ddb);
  border-color: rgba(120,170,255,.6);
  box-shadow:
    0 18px 48px rgba(31,103,255,.45),
    0 0 0 1px rgba(120,170,255,.35) inset;
}
.stat-item.highlight .stat-name{ color: #fff }
.stat-item.highlight .stat-sub{ color: rgba(255,255,255,.85) }

/* left side */
.stat-left{ display:flex; align-items:center; gap: 12px; min-width: 0 }
.stat-avatar{
  width: 48px; height: 48px; border-radius: 16px;
  display:grid; place-items:center;
  background:
    radial-gradient(100% 100% at 30% 30%, rgba(255,255,255,.18), rgba(255,255,255,0) 60%),
    conic-gradient(from 220deg, #7f8cff, #cf77ff, #4aa7ff, #7f8cff);
  border: 1px solid rgba(34,48,85,.9);
  color: #fff; font-weight: 800; letter-spacing: .3px;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.06);
}
.stat-avatar.glow{
  box-shadow:
    0 0 0 6px rgba(60,120,255,.22),
    0 10px 30px rgba(60,120,255,.35),
    inset 0 0 0 1px rgba(255,255,255,.06);
}
.stat-meta{ display:flex; flex-direction:column; min-width: 0 }
.stat-name{ font-weight: 800; white-space: nowrap; overflow: hidden; text-overflow: ellipsis }
.stat-sub{ font-size: 12px; color: var(--muted) }

/* right side */
.stat-right{
  display:flex; align-items:baseline; gap: 12px;
  margin-left: 12px;
}
.stat-gain{ color: #4ee6a5; font-weight: 800; white-space: nowrap }
.stat-rank{
  color: color-mix(in srgb, var(--muted) 80%, white 0%);
  font-size: 12px;
}

/* Small screens */
@media (max-width: 560px){
  .stat-item{ padding: 10px 12px }
  .stat-avatar{ width: 42px; height: 42px; border-radius: 14px }
}

/* Optional: ถ้ามีรูปจริง ก็ใช้แทนตัวอักษรได้ทันที */
.stat-avatar-img{
  width: 48px; height: 48px; border-radius: 16px; object-fit: cover;
  border: 1px solid rgba(34,48,85,.9);
}
